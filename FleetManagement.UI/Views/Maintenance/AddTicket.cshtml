
 
@using FleetManagement.UI.Models.Dto
@model MaintenanceTicket


<div class="container mt-4">
    <h2>Add Maintenance Ticket</h2>

    <form asp-action="AddTicketItem" method="post">
        <div class="col-md-6">
            <div class="mb-3 has-success">
                <label class="form-label">Parts</label>
                <select class="form-select" name="Part">
                    @foreach (var part in ViewBag.Parts)
                    {
                        <option value="@part">@part</option>
                    }
                </select>

            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label class="form-label">Quantity</label>
                <input type="number" name="Quantity" class="form-control" min="1" required>

            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label class="form-label">Unit Price (₦)</label>
                <input type="number" name="UnitPrice" class="form-control" min="0" step="0.01" required>

            </div>
        </div>
        <div class="d-md-flex align-items-center">
            <div class="mt-3 mt-md-0 ms-auto">
                <button type="submit" class="btn btn-success hstack gap-6">
                    <i class="fas fa-plus fs-4"></i>
                    Add
                </button>
            </div>
            <div class="mt-3 mt-md-0 ms-auto">
                <a asp-action="SendRequest" class="btn btn-primary hstack gap-6">
                    <i class="fas fa-paper-plane fs-4"></i>
                    Send Request
                </a>
            </div>
        </div>
    </form>


@*     <form asp-action="AddTicketItem" method="post">
        <div class="form-group">
            <label>Part</label>
            <select name="Part" class="form-control">
                @foreach (var part in ViewBag.Parts)
                {
                    <option value="@part">@part</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label>Quantity</label>
            <input name="Quantity" class="form-control" type="number" min="1" required />
        </div>

        <div class="form-group">
            <label>Unit Price (₦)</label>
            <input name="UnitPrice" class="form-control" type="number" min="0" step="0.01" required />
        </div>

        <button type="submit" class="btn btn-success">Add</button>
        <a asp-action="SendRequest" class="btn btn-primary">Send Request</a>
    </form>
 *@
    <hr>

    <h4>Current Ticket: @Model.TicketNumber</h4>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Part</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Items)
            {
                <tr>
                    <td>@item.Part</td>
                    <td>@item.Quantity</td>
                    <td>₦@item.UnitPrice.ToString("N2")</td>
                    <td>₦@item.TotalPrice.ToString("N2")</td>
                </tr>
            }
        </tbody>
    </table>
</div>






@* <div class="card">
    <div class="card-body">
        <h4 class="card-title">Sample Form with the Icons</h4>
        <p class="card-subtitle mb-3">
            made with bootstrap elements
        </p>
        <form asp-action="AddTicketItem" method="post">
            <div class="col-md-6">
                <div class="mb-3 has-success">
                    <label class="form-label" >Parts</label>
                    <select class="form-select" name="Part">
                        @foreach (var part in ViewBag.Parts)
                    {
                        <option value="@part">@part</option>
                    }
                    </select>

                </div>
            </div>
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label" >Amount</label>
                    <input type="number" name="Quantity" class="form-control" type="number" min="1" required>

                </div>
            </div>
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label">Unit Price (₦)</label>
                    <input type="number" name="UnitPrice" class="form-control" type="number" min="0" step="0.01" required>

                </div>
            </div>
            <div class="d-md-flex align-items-center">
                <div class="mt-3 mt-md-0 ms-auto">
                    <button type="submit" class="btn btn-success  hstack gap-6">
                        <i class="ti ti-send fs-4"></i>
                        Add
                    </button>
                </div>
                <div class="mt-3 mt-md-0 ms-auto">
                    <a asp-action="SendRequest" class="btn btn-primary  hstack gap-6">
                        <i class="ti ti-send fs-4"></i>
                        Send Request
                    </a>
                </div>
            </div>
        </form>
    </div>
</div> *@